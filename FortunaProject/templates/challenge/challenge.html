<!-- challenge.html -->
<!DOCTYPE HTML>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>테스트용 challenge.html</title>
</head>
<style>
    .challenge-row {
        display: flex;
        justify-content: space-between;
    }

    .challenge-button {
        display: flex;
        flex-direction: column; /* 요소를 세로로 정렬 */
        align-items: center; /* 중앙 정렬 */
        justify-content: center; /* 세로축 중앙 정렬 */
        text-align: center; /* 텍스트 중앙 정렬 */
    }

    .challenge-button button {
        border: none; /* 버튼 기본 테두리 제거 */
        background: none; /* 버튼 기본 배경 제거 */
        cursor: pointer; /* 마우스 오버시 커서 변경 */
        padding: 10px; /* 버튼 주변에 패딩 추가 */
    }

    .challenge-button button img {
        max-width: 60px; /* 이미지 최대 너비 설정 */
        height: auto; /* 이미지 높이 자동 조절 */
    }

    /* 이미지 설명 텍스트 스타일 */
    .challenge-button button {
        font-size: 14px; /* 텍스트 크기 */
        margin-top: 5px; /* 이미지와 텍스트 사이 간격 */
    }
</style>
<body>
{% load static %}
<!-- 챌린지 목록 -->
<div class="challenge-list">
<<<<<<< Updated upstream
    <h2>Challenges</h2>
=======
>>>>>>> Stashed changes
    <div class="challenge-row">
        <div class="challenge-button">
            <button id="chall1" onclick="openModal(1)">
                <img src="{% static 'non_attacked_icon.png' %}" alt="FullState" width="60px" height="120px">
                SmileMarket
            </button>
        </div>
        <div class="challenge-button">
            <button id="chall2" onclick="openModal(2)">
                <img src="{% static 'non_attacked_icon.png' %}" alt="FullState" width="60px" height="120px">
                Calculator
            </button>
        </div>
        <div class="challenge-button">
            <button id="chall3" onclick="openModal(3)">
                <img src="{% static 'non_attacked_icon.png' %}" alt="FullState" width="60px" height="120px">
                FoxGallery
            </button>
        </div>
        <div class="challenge-button">
            <button id="chall4" onclick="openModal(4)">
                <img src="{% static 'non_attacked_icon.png' %}" alt="FullState" width="60px" height="120px">
                OmpangiStore
            </button>
        </div>
    </div>
</div>

<!-- Bootstrap JS와 CSS 추가 -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/5.0.0-beta1/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/5.0.0-beta1/js/bootstrap.min.js"></script>
<script>
    // 모달 열기 함수
    function openModal(challengeId) {
        // AJAX 요청
        fetch(`/challenge/get_data?challenge_id=${challengeId}`)
            .then(response => response.json())
            .then(data => {
                // 모달 내용 업데이트
                document.querySelector('#myModal .modal-container-title').textContent = data.challenge_id + ' 문제 이름';
                document.querySelector('#myModal .modal-container-body').innerHTML = `
                    <p>team_id: ${data.team_id}</p>
                    <p>ip: ${data.ip}</p>
                    <p>port: ${data.port}</p>
                    <p>description: ${data.description}</p>
                `;
                document.querySelector('#myModal .modal-container-footer').textContent = 'score: ' + data.score;

                // 모달 표시
                var modal = document.getElementById("myModal");
                modal.style.display = "block";
            });
    }


    // 모달 닫기 함수
    function closeModal() {
        var modal = document.getElementById("myModal");
        modal.style.display = "none";
    }
</script>
</body>
</html>